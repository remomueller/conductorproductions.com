= render "videos/full_frame_video"

.page-box.last-box.d-flex.align-items-center.p-0.background-brand-white
  .container-fluid
    - videos = Video.current.where(video_page: "work").order(:position)
    - vimeo_url = "//player.vimeo.com/video/"
    - common_settings = "?title=0&amp;byline=0&amp;portrait=0&amp;autoplay=1&amp;color=ffffff"

    .row
      - video_count = videos.count
      - videos.each_with_index do |video, index|
        - vids_row = 2
        - vids_sm_row = 3
        - last_row = (index > (video_count / vids_row) * vids_row - 1)
        - last_row_sm = (index > (video_count / vids_sm_row) * vids_sm_row - 1)
        - video_link = "#{vimeo_url}#{video.vimeo_number}#{common_settings}"
        .col-6.col-sm-4.art{ class: "art-#{index % vids_row + 1} art-sm-#{index % vids_sm_row + 1} #{"last-row" if last_row} #{"last-row-sm" if last_row_sm}" }
          .artwork{ data: { object: "launch-full-page-video", video_src: video_link, video_heading: video.client_name, video_caption: "Produced by CONDUCTOR" } }
            - image_thumbnail = download_video_image_path(video, size: "preview")
            = image_tag image_thumbnail
