- @title = "Galleries"

- content_for :container_class, "container-fluid"
- content_for :sidebar, render("projects/sidebar")

- content_for :header do
  .float-right
    - if @project.editable_by?(current_user)
      = link_to "New Gallery", new_project_gallery_path(@project), class: "btn btn-sm btn-light"
  = link_to @project.name, @project
  |
  = @title

.dashboard-container
  %table.table.table-striped.table-borderless
    %col
    %col
    %col.hidden-xs
    %col.hidden-xs
    %col
    - if @project.editable_by?(current_user)
      %col{ width: "1px" }
    %thead
      %tr
        %th Category
        %th Name
        %th.hidden-xs Address
        %th.hidden-xs Creator
        %th.text-center Archived
        - if @project.editable_by?(current_user)
          %th.text-center Actions

    %tbody
      - if @galleries.count == 0
        %tr
          %td{ colspan: @project.editable_by?(current_user) ? 6 : 5 }
            .text-center.text-muted
              No galleries currently exist for this project. You may
              = link_to "add a new gallery", new_project_gallery_path(@project)
              for this project.
      - else
        - @galleries.each do |gallery|
          %tr{ id: "gallery-#{gallery.id}-container" }
            = render "galleries/gallery_row", gallery: gallery
